<form id="promoForm">
  <label>Промокод: <input type="text" id="promo"></label>
  <button type="submit">Відправити</button>
</form>
<p id="msg"></p>

<script>
  function setCookie(name, value, days) {
    const d = new Date();
    d.setTime(d.getTime() + (days*24*60*60*1000));
    document.cookie = name + "=" + value + ";expires=" + d.toUTCString();
  }
  function getCookie(name) {
    let match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
    return match ? match[2] : null;
  }

  let attempts = parseInt(getCookie("promoAttempts")) || 0;
  const msg = document.getElementById("msg");
  const form = document.getElementById("promoForm");

  if (attempts >= 3) {
    form.style.display = "none";
    msg.innerText = "Ви вичерпали кількість спроб!";
  }

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const code = document.getElementById("promo").value;
    if (code === "DISCOUNT2025") {
      msg.innerText = "Промокод правильний!";
    } else {
      attempts++;
      setCookie("promoAttempts", attempts, 1);
      if (attempts >= 3) {
        form.style.display = "none";
        msg.innerText = "Ви вичерпали кількість спроб!";
      } else {
        msg.innerText = "Невірний промокод. Спроба " + attempts;
      }
    }
  });
</script>
